.orga 0x9E8EC
JAL 0x8040F500
NOP

.orga 0x120F500
ADDIU SP, SP, 0xFFE8
SW RA, 0x14(SP)

LI T8, 0x8033B170
LW T8, 0x80(T8)
BEQZ T8, NotStar
NOP

LB T9, 0x188(T8)
LUI T0, 0x8036
BEQZ T9, NotStar
NOP

LB T8, 0x18A(T8)
SB T8, 0x7500(T0)

NotStar:
LUI T0, 0x8034
LH T0, 0xB238(T0)
ADDIU T1, R0, 2
BNE T0, T1, End

LUI T2, 0x8034
LB T3, 0xB249(T2)
ADDIU T4, R0, 0x14
BNE T3, T4, End
NOP

LB T3, 0xB24A(T2)
ADDIU T4, R0, 1
BNE T3, T4, IoF

LI A2, 0x8040F420
B FoT
NOP

IoF:
LI A2, 0x8040F400

FoT:
ADDIU A0, R0, 160
JAL 0x802D66C0
ADDIU A1, R0, 0xA0

End:
LW RA, 0x14(SP)
JR RA
ADDIU SP, SP, 0x18

.orga 0x120F400
.asciiz "INTEGRATION OF FRAGMENTS"
.orga 0x120F420
.asciiz "FRAGMENTS OF TREASURE"

.orga 0x5ACC ;ram 0x8024AACC
JAL 0x8040F600
NOP
.dd 0
.dd 0
.dd 0
.dd 0
.dd 0
.dd 0

.orga 0x120F600
ADDIU SP, SP, 0xFFE8
SW RA, 0x14(SP)

ADDIU T7, R0, 0x0020
LUI AT, 0x8034
SH T7, 0xB254(AT) ;vanilla code

LUI T9, 0x8036
LB T8, 0x7500(T9)

BNEZ T8, cw
NOP

ADDIU T8, R0, 0x00F0 ;default case

cw:
LUI AT, 0x8034
SH T8, 0xB256(AT)
LUI AT, 0x8034
SH R0, 0xBACC(AT)
ADDIU A0, R0, 0x0011
ADDIU A1, R0, 0x0020 ;more vanilla code
OR A2, R0, R0
OR A3, R0, R0
JAL 0x8027B1A0
SW R0, 0x10(SP)

LW RA, 0x14(SP)
JR RA
ADDIU SP, SP, 0x18
